{"version":3,"file":"heading.js","sourceRoot":"./","sources":["handlers/heading.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,MAAoB,MAAM,QAAQ,CAAC;AAG1C,MAAM,OAAO,GAAyB,CAAC,CAAC,EAAE,OAAO,EAAE,EAAE;IACpD,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,CAAiB,CAAC;IAC5C,IAAI,EAAE,IAAI,EAAE,GAAG,CAAiB,CAAC;IACjC,MAAM,YAAY,GAAG,OAAO,CAAC,YAAY,EAAE,CAAC;IAC5C,IAAI,UAAU,GAAiB,EAAE,CAAC;IAElC,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;QACtB,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAE5C,IAAI,SAAS,CAAC,IAAI,KAAK,MAAM,IAAI,SAAS,CAAC,KAAK,KAAK,IAAI,EAAE;YAC1D,IAAI,GAAG,MAAM,CAAC,MAAM,CAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAuB,CAAC,CAAC;YACjE,UAAU,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;SACvC;KACD;IAED,MAAM,OAAO,GAAG,GAAG,EAAE,CAAC,KAAK,CAAC,aAAa,CACxC,IAAI,KAAK,EAAE,EACX;QACC,GAAG,EAAE,YAAY;QACjB,uBAAuB,EAAE;YACxB,MAAM,EAAE,IAAI;SACZ;KACD,CACD,CAAC;IAEF,IAAI,KAAK,KAAK,CAAC,EAAE;QAChB,IAAI,UAAU,CAAC,MAAM,EAAE;YACtB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAExB,OAAO,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;SAC5C;QAED,OAAO,CAAC,OAAO,CAAC,CAAC;KACjB;IAED,OAAO,OAAO,CAAC;AAChB,CAAC,CAAC;AAEF,eAAe,OAAO,CAAC","sourcesContent":["import React from \"react\";\nimport marked, {TokensList} from \"marked\";\nimport {FixedHeading, DefaultElementHandler} from \"../types\";\n\nconst heading:DefaultElementHandler = (t, context) => {\n\tconst { depth, tokens } = t as FixedHeading;\n\tlet { text } = t as FixedHeading;\n\tconst headingIndex = context.headingIndex++;\n\tlet classNames:Array<string> = [];\n\n\tif (tokens.length > 1) {\n\t\tconst lastToken = tokens[tokens.length - 1];\n\n\t\tif (lastToken.type === \"link\" && lastToken.title === null) {\n\t\t\ttext = marked.parser((tokens.slice(0, -1) as any) as TokensList);\n\t\t\tclassNames = lastToken.href.split(\",\");\n\t\t}\n\t}\n\n\tconst element = () => React.createElement(\n\t\t`h${depth}`,\n\t\t{\n\t\t\tkey: headingIndex,\n\t\t\tdangerouslySetInnerHTML: {\n\t\t\t\t__html: text\n\t\t\t}\n\t\t}\n\t);\n\n\tif (depth === 1) {\n\t\tif (classNames.length) {\n\t\t\tconsole.log(classNames);\n\n\t\t\treturn [[element], [\"\"].concat(classNames)];\n\t\t}\n\n\t\treturn [element];\n\t}\n\n\treturn element;\n};\n\nexport default heading;\n"]}