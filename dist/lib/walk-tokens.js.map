{"version":3,"file":"walk-tokens.js","sourceRoot":"./","sources":["lib/walk-tokens.ts"],"names":[],"mappings":"AAKA,MAAM,UAAU,GAAG,CAAC,MAAkB,EAAE,QAAkB,EAAE,MAAmB,EAAE,EAAE;IACjF,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE;QAC1B,MAAM,OAAO,GAAG,QAAQ,CAAC,KAAmB,EAAE,MAAM,CAAC,CAAC;QAExD,IAAI,OAAO,KAAK,KAAK,EAAE;YACpB,QAAS,KAAa,CAAC,IAAI,EAAE;gBAC3B,KAAK,OAAO,CAAC,CAAC;oBACZ,KAAK,MAAM,IAAI,IAAK,KAAa,CAAC,MAAM,CAAC,MAAM,EAAE;wBACpD,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAmB,CAAC,CAAC;qBAC5C;oBACD,KAAK,MAAM,GAAG,IAAK,KAAa,CAAC,MAAM,CAAC,KAAK,EAAE;wBAC7C,KAAK,MAAM,IAAI,IAAI,GAAG,EAAE;4BACtB,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAmB,CAAC,CAAC;yBACjD;qBACF;oBACD,MAAM;iBACP;gBACD,KAAK,MAAM,CAAC,CAAC;oBACX,UAAU,CAAE,KAAa,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAmB,CAAC,CAAC;oBAChE,MAAM;iBACP;gBACD,OAAO,CAAC,CAAC;oBACP,IAAK,KAAa,CAAC,MAAM,EAAE;wBACzB,UAAU,CAAE,KAAa,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAmB,CAAC,CAAC;qBAClE;iBACF;aACJ;SACC;KACF;AACH,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["import { FixedToken } from \"../types\";\nimport { TokensList } from \"marked\"\n\ntype Callback = (token: FixedToken, parent?: FixedToken) => boolean | undefined;\n\nconst walkTokens = (tokens: TokensList, callback: Callback, parent?: FixedToken) => {\n  for (const token of tokens) {\n    const recurse = callback(token as FixedToken, parent);\n\n\t\tif (recurse !== false) {\n\t    switch ((token as any).type) {\n\t      case 'table': {\n\t        for (const cell of (token as any).tokens.header) {\n\t\t\t\t\t\twalkTokens(cell, callback, token as FixedToken);\n\t        }\n\t        for (const row of (token as any).tokens.cells) {\n\t          for (const cell of row) {\n\t            walkTokens(cell, callback, token as FixedToken);\n\t          }\n\t        }\n\t        break;\n\t      }\n\t      case 'list': {\n\t        walkTokens((token as any).items, callback, token as FixedToken);\n\t        break;\n\t      }\n\t      default: {\n\t        if ((token as any).tokens) {\n\t          walkTokens((token as any).tokens, callback, token as FixedToken);\n\t        }\n\t      }\n\t\t\t}\n    }\n  }\n};\n\nexport default walkTokens;\n"]}