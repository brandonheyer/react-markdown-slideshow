{"version":3,"file":"markdown-presentation.js","sourceRoot":"./","sources":["markdown-presentation.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, {\n  FC,\n\tReactNode,\n  useCallback,\n  useState,\n  useEffect,\n} from \"react\";\n\nimport {SectionClasses, SectionEntry, SectionTags, Notes, MutableSectionIndex, MutableIndexSetter, Sections } from \"./types\";\n\nimport initKeyupHandler from \"./lib/init-keyup-handler\";\nimport keyupHandler from \"./lib/keyup-handler\";\nimport updateNotesWindow from \"./lib/update-notes-window\";\n\ninterface MarkdownPresentationProps {\n  sections: Sections;\n  startingSection: number;\n  notesWindow?: Window | null;\n  notes?: Notes;\n\tsectionTags?: SectionTags;\n\tsectionClasses?: SectionClasses;\n}\n\nconst updateIndex = (\n  change: number,\n  current: MutableSectionIndex,\n  setCurrentSection: MutableIndexSetter\n) => () => {\n  setCurrentSection({ index: current.index + change });\n\twindow.location.hash = `#${current.index + change}`;\n};\n\nconst sectionMapper = (S: ReactNode) => {\n\tif (typeof S === \"function\") {\n\t\treturn (<S />);\n\t}\n\n\treturn S;\n};\n\ninterface SlidePartProps {\n\tsection: SectionEntry;\n\tclassName: string;\n\tindex: 0 | 1;\n}\n\nconst SlidePart: FC<SlidePartProps> = ({ section, index, className }) => {\n\tif (section) {\n\t\tconst currentSection = section[index];\n\n\t\tif (currentSection && currentSection.length) {\n\t\t\treturn (\n\t\t\t\t<div className={className}>\n\t\t\t\t\t{currentSection.map(sectionMapper)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn null;\n}\n\nconst MarkdownPresentation: FC<MarkdownPresentationProps> = ({\n  notes,\n  notesWindow,\n  sections,\n\tsectionTags = [],\n\tsectionClasses = [],\n  startingSection = 0,\n}) => {\n  const [currentSection, setCurrentSection] = useState<MutableSectionIndex>({\n    index: startingSection,\n  });\n\n  const incrementIndex = useCallback(\n    updateIndex(1, currentSection, setCurrentSection),\n    [currentSection]\n  );\n\n  const decrementIndex = useCallback(\n    updateIndex(-1, currentSection, setCurrentSection),\n    [currentSection]\n  );\n\n  const internalKeyupHandler = useCallback(\n\t\tkeyupHandler(sections.length, currentSection.index, decrementIndex, incrementIndex),\n    [sections.length, currentSection, incrementIndex, decrementIndex]\n  );\n\n  useEffect(() => initKeyupHandler(internalKeyupHandler), [internalKeyupHandler]);\n\n  useEffect(() => {\n    updateNotesWindow(currentSection.index, sections.length, notesWindow, notes)\n  }, [notes, notesWindow, currentSection.index, sections.length]);\n\n\tconsole.log(sectionClasses);\n\n  return (\n\t\t<section className=\"slide\">\n\t\t\t<div className={`slide-container ${sectionClasses[currentSection.index] && sectionClasses[currentSection.index].join(\" \")}`} data-tags={sectionTags[currentSection.index] && sectionTags[currentSection.index].join(\"-\")}>\n\t\t\t\t<SlidePart\n\t\t\t\t\tclassName=\"slide-header\"\n\t\t\t\t\tsection={sections[currentSection.index]}\n\t\t\t\t\tindex={0}\n\t\t\t\t/>\n\n\t\t\t\t<SlidePart\n\t\t\t\t\tclassName=\"slide-body\"\n\t\t\t\t\tsection={sections[currentSection.index]}\n\t\t\t\t\tindex={1}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n\nexport default MarkdownPresentation;\n"]}